


	
	
	

	

		var toggle = document.querySelector(".main-nav__toggle");
		var mainNav = document.querySelector(".main-nav");

		var video = document.getElementById("video");
		var container = document.querySelector(".container");
		var playW = document.querySelector(".video__play-wrap");
		var play = document.querySelector(".video__play");
		var pause = document.querySelector(".video__pause");
		var time = document.querySelector(".video__time");
		var theProgress = document.querySelector(".video__progress");
		var timeline = document.querySelector(".video__timeline");

		mainNav.classList.remove("main-nav--nojs");

		toggle.addEventListener("click", function() {
			if(mainNav.classList.contains("main-nav--close")) {
				mainNav.classList.remove("main-nav--close");
				mainNav.classList.add("main-nav--open");
			} else {
				mainNav.classList.remove("main-nav--open");
				mainNav.classList.add("main-nav--close");
			}
		});



		
			playW.addEventListener("click", function() {

				if(video.paused) {
					video.play();
					pause.style.display = "block";
					play.style.display = "none";
				} else {
					video.pause();
					pause.style.display = "none";
					play.style.display = "block";
				}
			
			});
		
		

		video.addEventListener("timeupdate", function() {
			var currentTime = this.currentTime,
				duration = this.duration,
				ellapsedTime = duration - currentTime,
				minutesLeft = Math.floor(ellapsedTime / 60),
				secondsLeft = Math.floor(ellapsedTime - (minutesLeft * 60)),
				timeString,
				progress = Math.floor(currentTime / duration * 100);

				
				if(secondsLeft < 10) {
					timeString = minutesLeft + " : " + "0" + secondsLeft;	
				} else {
					timeString = minutesLeft + " : " + secondsLeft;
				}

				theProgress.style.left = progress + "%";

				
				

				time.innerHTML = timeString;

				timeline.addEventListener("click", function(e) {
					var timeLinePos = timeline.offsetLeft,
					position = e.pageX - timeLinePos - container.offsetLeft,
					timeLineWidth = timeline.offsetWidth,
					percents = position / timeLineWidth * 100,
					trackPosition = video.duration / 100 * percents;

					video.currentTime = trackPosition;


				});



		});

		video.addEventListener("canplay", function() { //canplay - событие, когда видео готово к запуску
			var theTime = this.duration,
				
				minutesLeft = Math.floor(theTime / 60),
				secondsLeft = Math.floor(theTime - (minutesLeft * 60)),
				timeString;

				if(secondsLeft < 10) {
					timeString = minutesLeft + " : " + "0" + secondsLeft;	
				} else {
					timeString = minutesLeft + " : " + secondsLeft;
				}
				

			time.innerHTML = timeString;

		});


	

	















